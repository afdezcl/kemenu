<accordion class="accordion-custom accordion-digital" [isAnimated]="true">
  <div>
    <accordion-group>
      <button type="submit" class="btn btn-link clearfix" accordion-heading>
        <i class="fas fa-book-open float-left pb-2 d-none d-md-inline-block"></i><div class="pull-left float-left">{{ 'Digital Menu' | translate }}</div>
      </button>
      <button type="submit" class="btn btn-link accordion-heading-button" accordion-heading  (click)="openCreateSection($event)">
        <i class="fas pl-2 fa-plus d-none d-md-inline-block pb-2"></i><span>{{ 'Create Section' | translate }}</span>
      </button>

      <accordion class="accordion-custom section" id="list-sections" cdkDropList [isAnimated]="true" (cdkDropListDropped)="dropSection($event)">
        <div *ngFor="let section of menu.sections; let sectionCounter = index;" cdkDrag>
          <accordion-group>
            <button class="col-1 sort clearfix" accordion-heading cdkDragHandle>
              <i *ngIf="editMode" class="fas fa-bars float-left"></i>
              <i *ngIf="!editMode" class="dish-icon-food icofont-{{getSectionIcon(section.name)}}"></i>
            </button>
            <button type="submit" class="clearfix" accordion-heading>
              <div class="pull-left float-left">
                <span>{{section.name}}</span>
                <span *ngIf="section.dishes.length > 0" > ({{section.dishes.length}})</span>
              </div>
            </button>
            <button *ngIf="editMode" type="submit" class="accordion-heading-button text-right" accordion-heading (click)="editSection(section, sectionCounter)">
              <i class="fas fa-edit mr-2"></i>
            </button>

            <app-dish-list [editMode]="editMode" [dishes]="section.dishes" [sectionCounter]="sectionCounter"></app-dish-list>

            <button type="submit" class="btn btn-secondary mt-3 section-inner-button left delete-section" (click)="deleteSection(section)">
              <i class="fas fa-trash"></i><span class="d-none d-sm-inline-block">{{ 'Delete section' | translate }}</span>
            </button>

            <button type="submit" class="btn btn-secondary mt-3 section-inner-button add-dish float-right" (click)="openCreateDish(sectionCounter)">
              <i class="fas fa-plus"></i><span class="d-none d-sm-inline-block">{{ 'Create dish' | translate }}</span>
            </button>

          </accordion-group>
        </div>
      </accordion>
    </accordion-group>
  </div>
</accordion>
